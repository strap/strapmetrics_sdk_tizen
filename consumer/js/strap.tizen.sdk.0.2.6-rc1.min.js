var Strap=function(){var n=function(n,t,e){return n?e instanceof Object?new StrapWithOutManageConnection:new StrapWithManageConnection:void 0};return n.prototype={constructor:n},n}(),StrapWithManageConnection=function(){var n,t,e,o,a,c=[],r=[];const i=200;var s=function(r,i,s,l){n=null,t=null,e=i||835462,o=s,a={app_id:r,resolution:"144x168",useragent:"TIZEN",act:"UNKNOWN",action_url:"/",accl:[],visitor_id:""};for(var u in l)a.hasOwnProperty(u)&&(a[u]=l[u]);c||(c=window.localStorage.strap_accl),setInterval(function(){window.localStorage.strap_accl=c},6e4)},l=function(n){if(null==n||"object"!=typeof n)return n;var t={};for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t},u=function(){},p=function(n){t.setDataReceiveListener(u),t.sendData(e,JSON.stringify(n))},f=function(n){console.log("ONERROR: err ["+n.name+"] msg["+n.message+"]")},g=function(t){try{t.length>0?(n=t[0],n.setPeerAgentFindListener(v),n.findPeerAgents()):alert("Not found SAAgent!!")}catch(e){console.log("onsuccess exception ["+e.name+"] msg["+e.message+"]")}},v={onpeeragentfound:function(t){try{t.appName==o?(console.log(" peerAgentFindCallback::onpeeragentfound "+t.appname+" || "+o),n.setServiceConnectionListener(d),n.requestServiceConnection(t)):alert("Not expected app!! : "+t.appName)}catch(e){console.log(" peerAgentFindCallback::onpeeragentfound exception ["+e.name+"] msg["+e.message+"]")}},onerror:f},d={onconnect:function(n){t=n,alert("SAP Connection established with RemotePeer"),h(),t.setSocketStatusListener(function(n){console.log("Service connection lost, Reason : ["+n+"]"),disconnect()})},onerror:f},S=function(){},_=function(n){var o=l(a);o.action_url="STRAP_API_ACCL",o.accl=n,t.setDataReceiveListener(S),t.sendData(e,JSON.stringify(o))};window.addEventListener("devicemotion",y,!0);var y=function(n){var t=n.accelerationIncludingGravity.x,e=-n.accelerationIncludingGravity.y,o=-n.accelerationIncludingGravity.z,a=n.timeStamp;t=101.97*t,e=101.97*e,o=101.97*o;var s={x:t,y:e,z:o,ts:a};c.push(s),c.length>=i&&(r=c.splice(0,i),_(r.splice(0,i)))};s.prototype={constructor:s,getSASocket:function(){return t},onreceive:function(){},strap_log_activity:function(n){var t=l(a);t.act=n,p(t)},strap_log_event:function(n){var t=l(a);t.action_url=n,p(t)},connect:function(){if(t)return alert("Already connected!"),!1;try{webapis.sa.requestSAAgent(g,f)}catch(n){console.log("exception ["+n.name+"] msg["+n.message+"]")}},disconnect:function(){try{null!=t&&(m(N),console.log(" DISCONNECT SASOCKET NOT NULL"))}catch(n){console.log(" DISCONNECT ERROR: exception ["+n.name+"] msg["+n.message+"]")}}};var h=function(){t&&s.prototype.strap_log_event.call(this,"/STRAP_START")},m=function(n){t&&(s.prototype.strap_log_event.call(this,"/STRAP_FINISH"),delete this,setTimeout(function(){n()},1e3))},N=function(){t&&(t.close(),t=null)};return s}(),StrapWithOutManageConnection=function(){var n,t,e,o=[],a=[];const c=200;var r=function(a,c,r,i){n=r,t=c||835462,e={app_id:a,resolution:"144x168",useragent:"TIZEN",act:"UNKNOWN",action_url:"/",accl:[],visitor_id:""};for(var s in i)e.hasOwnProperty(s)&&(e[s]=i[s]);g(),o||(o=window.localStorage.strap_accl),setInterval(function(){window.localStorage.strap_accl=o},6e4)},i=function(n){if(null==n||"object"!=typeof n)return n;var t={};for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t},s=function(){},l=function(e){n.setDataReceiveListener(s),n.sendData(t,JSON.stringify(e))},u=function(){},p=function(o){var a=i(e);a.action_url="STRAP_API_ACCL",a.accl=o,n.setDataReceiveListener(u),n.sendData(t,JSON.stringify(a))};window.addEventListener("devicemotion",f,!0);var f=function(n){var t=n.accelerationIncludingGravity.x,e=-n.accelerationIncludingGravity.y,r=-n.accelerationIncludingGravity.z,i=n.timeStamp;t=101.97*t,e=101.97*e,r=101.97*r;var s={x:t,y:e,z:r,ts:i};o.push(s),o.length>=c&&(a=o.splice(0,c),p(a.splice(0,c)))};r.prototype={constructor:r,strap_log_activity:function(n){var t=i(e);t.act=n,l(t)},strap_log_event:function(n){var t=i(e);t.action_url=n,l(t)},strap_finish:function(){n&&(r.prototype.strap_log_event.call(this,"/STRAP_FINISH"),delete this)}};var g=function(){n&&r.prototype.strap_log_event.call(this,"/STRAP_START")};return r}();